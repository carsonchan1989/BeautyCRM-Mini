<view class="container">
  <view class="header">
    <view class="search-box">
      <input type="text" placeholder="æœç´¢é¡¹ç›®" bindinput="onSearchInput" value="{{searchKeyword}}" />
      <icon type="search" size="20"></icon>
    </view>
    <view class="filter-box">
      <picker bindchange="onCategoryChange" value="{{categoryIndex}}" range="{{categories}}">
        <view class="picker">
          {{categoryIndex === null ? 'å…¨éƒ¨åˆ†ç±»' : categories[categoryIndex]}}
          <text class="arrow">â–¼</text>
        </view>
      </picker>
    </view>
  </view>

  <view class="project-list">
    <block wx:if="{{projects.length > 0}}">
      <view class="project-item" wx:for="{{projects}}" wx:key="id" bindtap="onProjectTap" data-id="{{item.id}}">
        <view class="project-info">
          <view class="project-header">
            <view class="project-name">{{item.name || 'æœªå‘½åé¡¹ç›®'}}</view>
            <view class="project-price">Â¥{{item.price || '0'}}</view>
          </view>
          <view class="project-details">
            <view class="project-detail-item" wx:if="{{item.category}}">
              <text class="detail-label">åˆ†ç±»ï¼š</text>
              <text class="detail-value">{{item.category}}</text>
            </view>
            <view class="project-detail-item" wx:if="{{item.duration}}">
              <text class="detail-label">æ—¶é•¿ï¼š</text>
              <text class="detail-value">{{item.duration}}åˆ†é’Ÿ</text>
            </view>
            <view class="project-desc" wx:if="{{item.description}}">{{item.description}}</view>
          </view>
        </view>
        <view class="project-actions">
          <button class="btn-edit" catchtap="onEditProject" data-id="{{item.id}}">ç¼–è¾‘</button>
          <button class="btn-delete" catchtap="onDeleteProject" data-id="{{item.id}}">åˆ é™¤</button>
        </view>
      </view>
    </block>
    <view class="empty-tip" wx:else>
      <view class="empty-icon">ğŸ“‹</view>
      <text>æš‚æ— é¡¹ç›®æ•°æ®</text>
      <text class="empty-sub-tip">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ·»åŠ é¡¹ç›®</text>
    </view>
  </view>

  <view class="add-button" bindtap="onAddProject">
    <text>+</text>
    <text>æ·»åŠ é¡¹ç›®</text>
  </view>
</view> 